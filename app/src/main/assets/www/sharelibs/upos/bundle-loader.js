function handleErr(e,t,i,r,a){try{return txt+="网络连接错误请重试:\n"+a.stack.substr(0,200)+".....\nCheck Console!",console.log("javascript Error stack:"+a.stack),console.log("errorMsg:"+e+"  url:"+t+"  line:"+i+"  column:"+r),t.indexOf("bundle-upos")>0?void window.console.error(txt):(alert(txt),window.system.finish())}catch(s){console.log(s),window.system.finish()}}function onKeyBack(){var e=!1;if($("div[data-role=dialog]").each(function(){if($(this).is(":visible"))return void(e=!0)}),!e){if($("#maskDiv").is(":visible"))return void $("#maskDiv").hide();void 0!=this.View&&"function"==typeof this.View.onKeyBack&&this.View.onKeyBack();var t=window.location.href;return t.indexOf("#action/1")>0||t.indexOf("config.html")>0?void window.system.finish():void window.history.back()}}!function(){window.upos={},upos.require=require,window.define=void 0,window.require=void 0}(),onerror=handleErr;var txt="",relativeJSPath="../../../../sharelibs/metro/js/",relativeJSPubLibsPath="../../../libs/",mainRequireConfigPath={jquery:relativeJSPath+"libs/jquery",underscore:relativeJSPath+"libs/underscore",backbone:relativeJSPath+"libs/backbone",text:relativeJSPath+"libs/text",metro:relativeJSPath+"libs/metro",cups:relativeJSPubLibsPath+"trans/cups",translogManager:relativeJSPath+"trans/translogManager",dbManager:relativeJSPath+"orm/dbManager",config:relativeJSPath+"components/config",utils:relativeJSPath+"utils",mui:relativeJSPath+"ui.metro.custom",gbkcoder:relativeJSPath+"gbkcoder",posManageTrans:relativeJSPubLibsPath+"trans/posManageTrans",transferController:relativeJSPubLibsPath+"trans/transferController",transferConfig:relativeJSPubLibsPath+"trans/transferConfig",transferPackager:relativeJSPubLibsPath+"trans/transferPackager",settle:relativeJSPubLibsPath+"trans/settle",fastclick:relativeJSPath+"libs/fastclick",card:relativeJSPubLibsPath+"device/card",errPrint:relativeJSPubLibsPath+"trans/ERR_PRINT",aKB:relativeJSPath+"components/amount-keyboard",jqm:relativeJSPath+"libs/jquery.mobile.custom",iscroll:relativeJSPath+"libs/iscroll"};